console.log("PSB 2D Code Gnerator Start");let partNumber=document.querySelector("#partNumber"),qrContainer=document.querySelector(".code-placeholder.qr-code"),dataMatrixContainer=document.querySelector(".code-placeholder.data-matrix"),downloadButtons=document.querySelectorAll(".generate-button");function generator(e){let t=document.querySelector('input[name="website"]:checked').value+"/"+e;console.log(t);let a=DATAMatrix({msg:t,dim:2e3,pad:1}),n=QRCode({msg:t,dim:2e3,pad:1});dataMatrixContainer.replaceChildren(),dataMatrixContainer.appendChild(a),qrContainer.replaceChildren(),qrContainer.appendChild(n),document.querySelectorAll(".generate-button").forEach((t=>{t.classList.add("shown"),t.dataset.name=e}))}function download(e,t,a){var n=(new XMLSerializer).serializeToString(document.querySelector(".code-placeholder."+a+" svg")),r=document.createElement("canvas");r.getContext("2d");canvg(r,n);var o=r.toDataURL("image/png"),d=document.createElement("a");d.href=o,d.download=t+"-"+a+".png",d.style.display="none",document.body.appendChild(d),d.click(),document.body.removeChild(d)}window.onload=function(){generator(partNumber.value)},partNumber.addEventListener("input",(function(){partNumber.value&&generator(partNumber.value)})),document.querySelector("form").addEventListener("change",(function(e){generator(partNumber.value)})),downloadButtons.forEach((function(e){e.addEventListener("click",(function(e){let t=e.target;download(t,t.dataset.name,t.dataset.type)}))}));